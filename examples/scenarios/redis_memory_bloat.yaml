# Full example config: Redis / KeyDB memory bloat scenario
telemetry:
  metric_names:
    redis_memory_used_bytes: "redis_memory_used_bytes"
    redis_evicted_keys_total: "redis_evicted_keys_total"
    redis_master_repl_offset: "redis_master_repl_offset"
    redis_slave_repl_offset: "redis_slave_repl_offset"

  labels:
    org_ids: ["bank_01", "bank_02", "bank_03"]

  outputs: ["otlp"]
  endpoint: "127.0.0.1:4317"
  insecure: true

failure:
  mode: "bursty"
  rate: 0.01
  scenarios:
    - name: "redis_memory_bloat"
      start: "0s"
      duration: "90s"
      labels:
        OrgId: ["bank_03"]
      effects:
        - metric: "redis_memory"
          op: "scale"
          value: 2.0
        - metric: "redis_evicted_keys_total"
          op: "add"
          value: 20
        - metric: "redis_master_repl_offset"
          op: "add"
          value: 1000
