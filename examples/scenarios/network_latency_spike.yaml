# Full example config: Network latency spike scenario
telemetry:
  metric_names:
    transactions_total: "transactions_total"
    transactions_failed_total: "transactions_failed_total"
    transaction_latency_seconds: "transaction_latency_seconds"
    transaction_amount_paisa_sum: "transaction_amount_paisa_sum"
    transaction_amount_paisa_count: "transaction_amount_paisa_count"

    # DB metrics
    db_ops_total: "db_ops_total"
    db_latency_seconds: "db_latency_seconds"

    # Kafka metrics
    kafka_produce_total: "kafka_produce_total"
    kafka_consume_total: "kafka_consume_total"
    kafka_controller_UnderReplicatedPartitions: "kafka_controller_UnderReplicatedPartitions"
    kafka_network_RequestMetrics_RequestsPerSec: "kafka_network_RequestMetrics_RequestsPerSec"
    kafka_server_BrokerTopicMetrics_BytesInPerSec: "kafka_server_BrokerTopicMetrics_BytesInPerSec"

    # JVM & GC
    jvm_memory_used_bytes: "jvm_memory_used_bytes"
    jvm_memory_max_bytes: "jvm_memory_max_bytes"
    jvm_gc_pause_seconds_sum: "jvm_gc_pause_seconds_sum"
    jvm_gc_pause_seconds_count: "jvm_gc_pause_seconds_count"

    # Tomcat
    tomcat_threads_busy_threads: "tomcat_threads_busy_threads"
    tomcat_threads_config_max_threads: "tomcat_threads_config_max_threads"
    tomcat_threads_queue_seconds: "tomcat_threads_queue_seconds"

    # Process / Node exporter
    process_cpu_usage: "process_cpu_usage"
    process_uptime_seconds: "process_uptime_seconds"
    process_files_open_files: "process_files_open_files"
    process_files_max_files: "process_files_max_files"
    node_load1: "node_load1"
    node_memory_MemAvailable_bytes: "node_memory_MemAvailable_bytes"
    node_memory_MemTotal_bytes: "node_memory_MemTotal_bytes"
    node_filesystem_avail_bytes: "node_filesystem_avail_bytes"
    node_filesystem_size_bytes: "node_filesystem_size_bytes"

    # Hikari
    hikaricp_connections_active: "hikaricp_connections_active"
    hikaricp_connections_max: "hikaricp_connections_max"

    # Redis/KeyDB
    redis_memory_used_bytes: "redis_memory_used_bytes"
    redis_memory_max_bytes: "redis_memory_max_bytes"
    redis_keyspace_hits_total: "redis_keyspace_hits_total"
    redis_keyspace_misses_total: "redis_keyspace_misses_total"
    redis_evicted_keys_total: "redis_evicted_keys_total"
    redis_master_repl_offset: "redis_master_repl_offset"
    redis_slave_repl_offset: "redis_slave_repl_offset"

    # legacy / scenario-specific names (kept for compatibility)
    node_network_latency_ms: "node_network_latency_ms"
    network_latency: "network_latency"
    network_packet_drop: "network_packet_drop"
    node_network_packet_drops_total: "node_network_packet_drops_total"
    kafka_throughput: "kafka_throughput"
    kafka_disk_failure: "kafka_disk_failure"
    keydb_memory_fault: "keydb_memory_fault"
    redis_memory: "redis_memory"

    # additional overrides / extras
    additional:
      tomcat_threads_pool_size: "tomcat_threads_pool_size"
      application_custom_kpi_1: "app_custom_kpi_1"

  labels:
    org_ids: ["bank_01", "bank_02"]

  outputs: ["otlp"]
  endpoint: "127.0.0.1:4317"
  insecure: true

failure:
  mode: "bursty"
  rate: 0.01
  scenarios:
    - name: "network_latency_spike"
      start: "0s"
      duration: "90s"
      labels:
        OrgId: ["bank_02"]
      effects:
        - metric: "network_latency"
          op: "scale"
          value: 5.0
